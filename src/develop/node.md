##Nodeとnpmを使うということ

なぜNodeとnpmを使うかということについて説明します。

Nodeは、V8というJS処理系を備えたサーバーアプリケーションです。JSでサーバーアプリケーションを書けること、windows、mac、Linuxどの環境でもインストール出来て使えることから、発表時から爆発的に普及しました。

またNodeはnpmというパッケージ管理ツールを備えていました。npmにJSアプリケーションなどを公開して自由にダウンロード出来るようになりました。

Nodeとnpmによって、ブラウザアプリケーション開発も大きく変わりました。Nodeは単体でもサーバーとして使うことが出来ますが、サーバー機能を使った開発者用ツールも作ることが出来ます。なので、開発者全員の環境にNodeをインストールして、npmを使いブラウザで使うライブラリや、開発で使うツール類などを管理するようになりました。

その後、Nodeのサーバー機能を使った開発者用ツールとして、ファイルを監視して更新すると即座に再コンパイルしてブラウザに反映するなどのタスク管理ツールが興隆しました。Gruntやgulpといったツールがそれにあたります。今回使うwebpackも同じ目的のツールです。

###

Elmを使った開発環境について考えてみます。

まずelm-reactorが挙がると思います。elm-reactorもElmを試すのには最適なツールです。しかしながら現状のelm-reactorでは、ファイルを編集した後リロードボタンを押さなければならないのが面倒なのと、ElmをJSコンパイルしてJSファイルの編集することに対応していません。

JSとのやりとりなど、ElmとJS両方含んだ開発を行うなら、Elmを呼び出すタグとJSが書かれたHTMLなどを用意しておくと便利です。

```
<div id="main"></div>
<script src="main.js"></script>
<script>
    var node = document.getElementById('main');
    var app = Elm.Main.embed(node);
</script>

```

Elmファイルはmain.jsとしてコンパイルします。

```
./src
├── elm
│   └── Main.elm
├── index.html
└── main.js
```

このような雛形を用意しておくと、すぐにPortやprogramWithFlagsを使いElmとJSを試せて便利です。

メモ：話が脇道にそれますが、ブラウザでもこの構成で試せるツールが公開されています。

さて、このようなファイルを用意すると、更に欲が出てきます。ElmファイルやJSファイルを編集すると、自動でブラウザも更新して欲しい。JSコードをかくときにES２０１５スタイルを使いたい。
