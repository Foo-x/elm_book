# Elmの特徴

Elmの特徴についてまとめてみます。

###Elmとは

GUIをもったアプリケーションを記述するプログラミング言語として生まれました。ブラウザアプリケーションを作ることが出来ます。

###Elmランタイム

Elmをコンパイルすると一つのjavascript（以下js）ファイルになります。これをElmランタイムといいます。Elmランタイムが画面を作る仕組みは、読み込まれた時にDOM操作を行いDOM内にHtmlを構築することで行います。（いわゆるシングルページアプリケーション（SPA）のJsフレームワークが採用する方法です。）

Elmは通常オプションを付けずにコンパイルすると、Htmlファイル出力します。これはElmランタイムと、ランタイムを読み込むコードが入ったHtmlを出力しています。

Elmランタイムのみの出力も出来ます。そうすると、画面を構築するDOMを指定することが出来、一部の箇所だけに展開するといったこともできます。（埋め込みモード）
他にも、他のJsライブラリとやり取りすることや、Jsライブラリから初期値を渡すことが出来ます。Domを指定しない画面のないElmランタイムだけで使うことも可能です。

###Elm一つでHtml、CSS、Javascriptを生成する。

他のjsフレームワークでは、htmlの表現に新しい構文を導入したりしますが、ElmではElmの構文一つで、html、js、cssを書くことが出来ます。
またhtml周りは仮想DOMという技術を使うことができるので、画面上で多くのDOM変更があれば負担を減らして描画することが出来ます。


###Elm-Architectureフレームワークになる。

Elmは一つの設計方針で記述していきます。これがElm-Architectureです。
なのでElmは言語ですが、使うとフレームワークにもなります。
そしてElm-Architectureは他のフレームワークに影響を与えたりしている新しいGUIの構築手法だったりします。


###Elmはシンプルで小さな関数型言語

ElmはHaskellやいろんな関数型言語を参考にして、とても小さく強力な構文になっています。
コードを眺めてみるとわかりやすそうと感じるのではないでしょうか。

###学習が始めやすいです。

構文に始まり、かなり学習の始めやすさや学習曲線を大事にしています。公式Webページには文章やサンプルが多くブラウザエディタやREPLなどすぐ試す環境があります。なるべくシンプルに始めて大きくできるようになっています。

またHtmlという普段親しんでいるデータになるので、ブラウザで動作を確認出来、github-pagesなどで公開して簡単に周りに見せることが出来るのです。
Elmは自分のステップでプログラミングを習得できる気がします。

###FRPとは関係のない言語に

Elmはファンクショナルリアクティブプログラミング(FRP)という分野の研究から生まれたこともあって、FRPとしても有名でした。しかし、v0.17へのバージョンアップでその機能（Signal型）を取り除きました。これはFRPの部分がElm初学者の壁になっていたことと、SignalのないElmでもElm-Architectureで書くことで、誰しもが以前と遜色ないアプリケーションを記述できることがわかったからです。なのでネットにはElmのFRPの記事等が残っていたりもしますが、今は使いません。

###パッケージ管理システムや、デバッガー。

エコシステムも整備されています。
Elmのパッケージシステムでライブラリを管理します。
またファイル監視するツールもあります。

###純粋、静的、型検査される

Elmは純粋関数型言語です。なのでtry catchやgotoや;で句切られたりして、コードがジャンプするということが出来ないようになっています。これは書かれたコードが正しいことを（人間や型検査からみて）論証しやすいということです。

またjsにコンパイルするので、jsで動かす前に間違い箇所を教えてくれます。

純粋で静的型付きでかなりの安全性が保証され、テストもシンプルになります。
コンパイル後は壊れないといわれるくらいの信頼性があります。

###バージョンアップ時に、破壊的変更が行われることが多い。

Elmは過去のバージョンとの互換性を捨ててでもより良いツールにする方を優先する、というスタンスなので、バージョンアップ毎に大きく変わります。ソースコードの変更はいつも人力で無理のない量ですが、更新時は情報を追う必要があるかもしれません。

###発展途中

まだまだ便利なライブラリとかが不足しています。情報が足りてないところもあります。
採用しない理由に、良いドキュメントがないことや、新しすぎる、などが挙がっているそうです。

###Elmの使いドコロ、難しそうな所

個人的に今のElmは、主にWebに繋いでもSEOや動作速度を気にしないようなツール系が得意です。
内製ツールの作成や、画面やUIの必要なアプリケーション（Elmを同封したり、electron）などです。

速度やSEOを気にするWeb系なら、まず既存のwebページの散文したjsのフロントにしたり、一部置き換えから導入するのが良いです。ElmはDOMに埋め込めるので、Webページの一部アプリケーションをElmで記述するということもできます。

急に高度なSPA（シングルページアプリケーション）を作ろうとするのは難しいと思われます。Webフレームワークのテンプレートのほうが、便利さ的にもセキュリティ的にも目的によっては上だったりします。Elmにサーバーサイドレンダリング機能はまだ無いです。
また新しい技術を覚えるのはいつでも負担を強います。html、css、jsの知識に、さらにElmといった感じになります。

あと関数型言語の勉強にはとてもなります。

しかし実は次のバージョンでこのあたりの認識も変わりそうです。そういうわけで次のバージョンも楽しみにしています。
#使ってみると

Elmで作ってみるととにかく作りやすいです。そしてコードは全体が見渡しやすく、純粋型付きの安定的な書きやすさ、そしてエルムアーキテクチュアを知れば、もう書きまくるだけだという気持ちになります。
