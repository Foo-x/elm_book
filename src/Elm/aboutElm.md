#Elmの特徴

Elmの特徴についてまとめてみます。

###Elmとは

ElmはFRPでGUIアプリケーションを記述する言語としてEvan Czaplickiが発表したのが始まりです。その後、沢山のユーザーが使い意見を出し合い変革を経て、FRPはElm-Architectureというパラダイムに変わり、今はブラウザアプリケーションを記述、生成する言語として今も開発が進められています。

公式サイト
[http://elm-lang.org/](http://elm-lang.org/)

###ElmはHTML、CSS、Javascriptを生成して、ブラウザ上のフレームワークになる。

Elm一つでHTMLや、Javascript、CSSやCSSフレームワーク、が担っている部分を書くことが出来て、Elmはコンパイルすると一つのJavascript（以下JS）ファイルとして出力できます。JSなので、既存のシステムや環境にElmを組み込むことも容易です。

また「Elm Architecture」（以下Elm-Architecture）という簡単、安全、変更に強い記述方針が提供されており、それに沿ってアプリケーションを書くようになっているので、Elmはプログラミング言語でありフレームワークにもなっています。


###高速

Elmは他のJSフレームワークなどに比べて高速なベンチマークを叩き出しています。コンパイルも高速です。

また高速化するのに特に手間がいらないようになっていて、Elmは用意されているライブラリでHTMLを書くと、自然に仮想DOMという技術を扱えます。このライブラリにある、Lazy関数やKey関数を使うことで、描画のレンダリングなどを最小にすることが出来ます。（HTML、CSSについては、elm-lang/html:HTMLのページで解説しています。）


###Elmはシンプルで小さな関数型言語

ElmはHaskellやいろんな関数型言語を参考にしていて、言語仕様がとても小さく強力なものになっています。
コードを眺めてみるとわかりやすそうと感じるのではないでしょうか。詳しくは、Elmの構文のページで解説しています。


###Elm-Architectureという設計方針

GUIアプリケーションを作るのに、MVCやMVVMなどの設計方針がありますが、ElmではElm-Architectureという考え方で記述していきます。この考え方でElmはたった３つか４つの関数でGUIアプリケーションを作ることが出来ます。Elm-Architectureは他のJSフレームワーク（redux、Cycle.js）に影響を与えてもいる考え方です。
書き方をElm-Architectureのページで解説しています。

###学習を始めやすく続けやすい。

構文に始まり、Elmは学習の始めやすさや学習曲線を大事にしています。公式Webページには文章やサンプルが多くブラウザエディタやREPLなどで、すぐに試せる環境があります。なるべくシンプルに始めて、順番により高度なことを理解できるようになっています。

またHTMLという普段親しんでいるデータになるので、ブラウザで動作を確認できて、github-pagesなどで簡単に公開できます。
Elmは自分のステップでプログラミングを習得できると思います。

###FRPとは関係のない言語になりました。

Elmはファンクショナルリアクティブプログラミング(FRP)という分野の研究から生まれたこともあって、FRPとしても有名でした。しかし、v0.17へのバージョンアップでその機能（Signal型）を取り除きました。これはFRPの部分がElm初学者の壁になっていたことと、SignalのないElmでもElm-Architectureで書くことで、誰しもが以前と遜色ないアプリケーションを記述できることがわかったからです。なのでネットにはElmのFRPの記事等が残っていたりもしますが、今は使いません。

###パッケージ管理システムや、デバッガー

エコシステムも整備されています。
Elmのパッケージシステムでライブラリを管理します。
またファイル監視するツールもあります。ツールのページで解説しています。

###純粋、静的、型検査される

Elmは純粋関数型言語です。この事は、言語の仕様の中に代入や、`try catch`や`goto`や`;`などの句切りによって、処理がジャンプしたりさせたりする構文が無いことを表しています。そしてそのことは書かれたコードが正しいことを（人間や型検査からみて）論証しやすいということです。

型検査されるElmをコンパイルして出来るJSファイル（Elmランタイム）は、コンパイルした後は壊れず動き続けると言われるくらいの信頼性があります。
また純粋で静的型付きの機能で安全性が保証されることで、テストも少なくなります。

###Elm一つで済む

フロントエンド環境で、「静的型付きフレームワーク」を導入しようとすると、沢山のライブラリを落とし、それらを継ぎ接ぎして管理して、大量の設定を行う大変な作業が必要になります。Elmでも行く行くはJSと合わせた環境になりますが、それでもElm一つでアプリケーションの大半を賄えるのは気持ち的に大きなメリットです。


Elmの負の面も紹介しておきます。


###バージョンアップ時に、破壊的変更が行われることが多い。

Elmはネットのツールの文化そのままに、バージョン管理を行いながら、常に変化を取り入れていくスタイルです。
過去のバージョンとの互換性を捨ててでもより良いツールにする方を優先するので、バージョンアップ毎に大きく変わります。ソースコードの変更はいつも人力で無理のない量ですが、更新時は情報を追う必要があるかもしれません。

###発展途中。覚えてもらうのが大変かも

まだまだ便利なライブラリとかが不足しています。情報が足りてないところもあります。
採用しない理由に、良いドキュメントがないことや、新しすぎる、などが挙がっているそうです。

新しいツールを導入するのは大変で、いくつかの落とし穴があるもので、情報は英語ばかりです。なかなか他人の賛同を得られないかもしれません。しかしデメリットがあるが大きなメリットもある、というのがElmという言語なので紹介できたらなと思います。

###Elmの使われ方

Elmの使われ方を紹介します。


今のElmは、主にSEOや動作速度を気にしないツール系や、ブラウザアプリケーションが得意です。サーバーの管理画面や、内製ツールの作成等の実績を聞きます。

速度やSEOを気にするWeb系なら、今までのようなWeb画面も作ることができますし、ブラウザ上のアニメーションや、Webページの一部分のアプリケーションをElmの埋め込む機能を使い、記述するという使い方もできます。

既存のサイトにElmを使うには、JSを少しずつ置き換える使い方から始めるのがいい様です。

まだ情報が少ないですが、ElectronやReact Nativeなどフロントエンド以外の環境でもElmを使うことも出来ます。

バージョンアップで大きく進化するのがElmなので、次のバージョンでこのあたりの認識もまた変わると思います。

##使ってみると

Elmで作ってみるとコードは全体を見渡しやすく、HTML純粋型付きの安全性の力も借りることができ、とにかく作りやすいです。そしてElm-Architectureを知れば、もう書きまくるだけだという気持ちになるでしょう。
